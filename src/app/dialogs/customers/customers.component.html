<div class="header-container flex space-between">
  <div class="category-container flex justify-start">
    <p class="text--largesecondary text--bold text--primary">Choose Customer</p>
  </div>
  <mat-icon color="primary" class="cursor-pointer" (click)="this.closeDialog()">close</mat-icon>
</div>
<div class="body-container mt-4">
  <div class="customers-table">
    <div class="table-header-container flex">
      <p class="text--grey text--normal text--bold width-25">
        Name
      </p>
      <p class="text--grey text--normal text--bold width-25">
        Phone/Address
      </p>
      <p class="text--grey text--normal text--bold width-25">
        Location
      </p>
      <p class="text--grey text--normal text--bold width-25">
        &nbsp;
      </p>
    </div>
    <div class="table-body-container">
      <div class="table-body-block" *ngFor="let customer of this.customerList">
        <div class="table-body-data flex cursor-pointer" (click)="this.customerClicked(customer)" [class.active]="customer.active">
          <p class="text--mediumsecondary width-25">
            {{ customer.name }}
          </p>
          <p class="text--mediumsecondary width-25">
            {{ customer.phone }}
          </p>
          <p class="text--mediumsecondary width-25">
            {{ customer.location }}
          </p>
          <p class="text--grey text--normal text--bold width-25">
            <button *ngIf="customer.active" class="btn btn-default m-2 spaced-letters text--medium" (click)="this.closeDialog()">
              Select
            </button>
          </p>
        </div>
        <div class="table-body-data-extra" *ngIf="customer.active">
          <ng-container [ngTemplateOutlet]="customerDetailsTemplate" [ngTemplateOutletContext]="{ customer: customer }"></ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
<hr />
<div class="footer-container flex justify-start">
  <button mat-stroked-button color="primary" class="m-2 spaced-letters">
    <span class="text--bold">Add new customer</span>
  </button>
</div>

<ng-template #customerDetailsTemplate let-customer="customer">
  <div class="basic-info flex">
    <div class="width-35 flex justify-start">
      <div class="dummy-dp-container"></div>
      <div class="name-container ml-2">
        <p class="text--primary text--normal">
          {{ customer.name }}
        </p>
        <p class="text--small text--grey">
          Last order - 4 months ago
        </p>
      </div>
    </div>
    <div class="width-20">
      <p class="text--medium text--grey">
        Email address
      </p>
      <p class="text--medium text--bold">
        hello@gmail.com
      </p>
    </div>
    <div class="width-20">
      <p class="text--medium text--grey">
        Phone
      </p>
      <p class="text--medium text--bold">
        {{ customer.phone }}
      </p>
    </div>
    <div class="width-25">
      <button class="btn m-2 spaced-letters text--medium">
        <span class="text--bold">Edit profile</span>
      </button>
    </div>
  </div>
  <hr />
  <div class="address-info flex">
    <div class="width-25">
      <ng-container [ngTemplateOutlet]="dummyAddressTemplate" [ngTemplateOutletContext]="{ addressName: 'Billing' }"></ng-container>
    </div>
    <div class="width-25">
      <ng-container [ngTemplateOutlet]="dummyAddressTemplate" [ngTemplateOutletContext]="{ addressName: 'Shipping 1' }"></ng-container>
    </div>
    <div class="width-25">
      <ng-container [ngTemplateOutlet]="dummyAddressTemplate" [ngTemplateOutletContext]="{ addressName: 'Shipping 2' }"></ng-container>
    </div>
    <div class="width-25">
      <button class="btn m-2 spaced-letters text--medium">
        <span class="text--bold">Add Address</span>
      </button>
    </div>
  </div>
</ng-template>

<ng-template #dummyAddressTemplate let-addressName="addressName">
  <p class="text--medium text--grey">{{ addressName }} Address</p>
  <p class="text--medium text--bold">
    Billing Address
  </p>
  <p class="text--medium text--bold">
    48 Street Name, Area
  </p>
  <p class="text--medium text--bold">
    Landmark, Dubai
  </p>
</ng-template>
